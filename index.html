<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>HEY BABY üíï</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Mali:wght@400;600&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family:'Quicksand', sans-serif;
  text-align: center;
  background: linear-gradient(180deg,#ffe6f0,#fff5fa);
  overflow-x: hidden;
}

h1 {
  font-family:'Pacifico', cursive;
  margin-top: 35px;
  color: #ff4d88;
}

.subtitle {
  font-size: 14px;
  margin-bottom: 15px;
}

/* LOCK BUTTON */
.back-lock {
  position: fixed;
  top: 15px;
  left: 15px;
  padding: 8px 14px;
  border: none;
  border-radius: 20px;
  background: #ffffffcc;
  backdrop-filter: blur(6px);
  font-size: 14px;
  cursor: pointer;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  display: none;
}

/* PIN */
.pin-display {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin: 15px 0;
}
.dot {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: #ff8fb1;
  opacity: 0.3;
}
.dot.filled{opacity:1;}

.keypad {
  display: grid;
  grid-template-columns: repeat(3, 70px);
  gap: 12px;
  justify-content: center;
  margin-bottom: 25px;
}
.key {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  cursor: pointer;
  box-shadow: 0 8px 18px rgba(0,0,0,0.1);
}
.key:active{transform:scale(0.9);}

.shake{animation:shake 0.4s;}
@keyframes shake{
  25%{transform:translateX(-8px);}
  50%{transform:translateX(8px);}
  75%{transform:translateX(-8px);}
}

/* MENU */
.choice {
  width:85%;
  max-width:300px;
  margin:18px auto;
  padding:18px;
  background:white;
  border-radius:22px;
  font-size:19px;
  font-weight:600;
  cursor:pointer;
  box-shadow:0 12px 28px rgba(0,0,0,0.1);
  transition:0.3s;
}
.choice:hover{transform:translateY(-4px);}

/* YES NO */
.yn-btn{
  padding:10px 24px;
  margin:12px;
  border:none;
  border-radius:25px;
  font-size:17px;
  cursor:pointer;
  transition:0.3s;
}
.yes{background:#ff6fa5;color:white;}
.no{background:#ddd;}

/* CARD */
.scene{
  width:90%;
  max-width:340px;
  height:450px;
  margin:40px auto;
  perspective:1300px;
}
.card{
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:transform 1s;
}
.card.flip{transform:rotateY(180deg);}

.card-face{
  position:absolute;
  width:100%;
  height:100%;
  border-radius:28px;
  backface-visibility:hidden;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding:20px;
  box-shadow:0 30px 60px rgba(0,0,0,0.22);
}

.front{background:linear-gradient(135deg,#ffffff,#ffe6f2);}
.back{
  background:linear-gradient(135deg,#ffd6e8,#ffeaf4);
  transform:rotateY(180deg);
}

.card img{
  width:88%;
  height:70%;
  object-fit:cover;
  border-radius:20px;
  margin-bottom:12px;
}

.overlay-text{
  position:absolute;
  bottom:15px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(255,255,255,0.8);
  padding:6px 16px;
  border-radius:18px;
  font-size:14px;
}

/* Back message */
.wish{
  font-family:'Mali', cursive;
  font-size:18px;
  line-height:1.6;
}

/* Go to button */
.nav-btn{
  margin-top:12px;
  padding:8px 18px;
  border:none;
  border-radius:18px;
  background:#ff8fb1;
  color:white;
  font-size:16px;
  cursor:pointer;
}

/* HEART EFFECT */
.heart{
  position:fixed;
  bottom:-20px;
  font-size:20px;
  animation:floatUp 3s linear forwards;
}
@keyframes floatUp{
  to{transform:translateY(-100vh);opacity:0;}
}

/* MUSIC */
.music-btn{
  position:fixed;
  top:15px;
  right:15px;
  width:45px;height:45px;border:none;
  border-radius:50%;background:#ff8fb1;
  color:white;font-size:18px;cursor:pointer;
}

/* Responsive tweaks for iPhone 13 / small screens */
@media screen and (max-width: 390px) {
  h1 {font-size:28px;}
  .key {width:60px;height:60px;font-size:18px;}
  .choice {font-size:18px;padding:16px;}
  .yn-btn {font-size:16px;padding:10px 20px;}
  .nav-btn {font-size:15px;padding:8px 16px;}
}
</style>
</head>
<body>

<div id="app"></div>

<button class="music-btn" onclick="toggleMusic()">üéµ</button>
<button class="back-lock" id="lockBtn" onclick="goToLock()">üîê Lock</button>

<!-- Hidden iframe for YouTube -->
<div style="position:fixed;width:0;height:0;overflow:hidden;">
  <iframe id="ytFrame" src="" frameborder="0" allow="autoplay"></iframe>
</div>

<script>

const correctPin="2802";  // ‡∏£‡∏´‡∏±‡∏™ PIN
let inputPin="";
let selectedType="";
let yesScale=1;
let musicPlaying=false;

showLogin();

/* ===== LOGIN ===== */
function showLogin(){
  document.getElementById("lockBtn").style.display="none";
  document.getElementById("app").innerHTML=
    '<h1>HEY BABY! üíï</h1>'+
    '<div class="subtitle">WOULD YOU LIKE TO SEE YOUR GIFT?</div>'+
    '<div class="pin-display" id="pinBox">'+
      '<div class="dot"></div><div class="dot"></div>'+
      '<div class="dot"></div><div class="dot"></div></div>'+
    '<div class="keypad">'+createKeys()+'</div>';
}

function createKeys(){
  let keys='';
  for(let i=1;i<=9;i++){
    keys+='<div class="key" onclick="press('+i+')">'+i+'</div>';
  }
  keys+='<div></div>';
  keys+='<div class="key" onclick="press(0)">0</div>';
  keys+='<div class="key" onclick="del()">‚å´</div>';
  return keys;
}

function press(num){
  if(inputPin.length<4){
    inputPin+=num;
    updateDots();
    if(inputPin.length===4) setTimeout(checkPin,300);
  }
}

function del(){
  inputPin=inputPin.slice(0,-1);
  updateDots();
}

function updateDots(){
  let dots=document.querySelectorAll(".dot");
  dots.forEach((d,i)=>d.classList.toggle("filled", i<inputPin.length));
}

function checkPin(){
  if(inputPin===correctPin){
    startMusic();
    showMenu();
  } else {
    let box=document.getElementById("pinBox");
    box.classList.add("shake");
    setTimeout(()=>box.classList.remove("shake"),400);
    inputPin="";updateDots();
  }
}

/* ===== MUSIC ===== */
function startMusic(){
  document.getElementById("ytFrame").src=
    "https://www.youtube.com/embed/U4NsaPYrNvw?autoplay=1&loop=1&playlist=U4NsaPYrNvw";
  musicPlaying=true;
}

function toggleMusic(){
  let frame=document.getElementById("ytFrame");
  if(musicPlaying){ frame.src=""; musicPlaying=false; }
  else startMusic();
}

/* ===== BACK TO LOCK ===== */
function goToLock(){
  document.getElementById("ytFrame").src="";
  musicPlaying=false;
  inputPin=""; selectedType=""; yesScale=1;
  showLogin();
}

/* ===== MENU ===== */
function showMenu(){
  document.getElementById("lockBtn").style.display="block";
  document.getElementById("app").innerHTML=
    '<h1>Choose Your Postcard üíå</h1>'+
    '<div class="choice" onclick="askOpen(\'birthday\')">Happy Birth Day üéÇ</div>'+
    '<div class="choice" onclick="askOpen(\'valentine\')">Valentine Day üíò</div>';
}

/* ===== YES / NO ===== */
function askOpen(type){
  selectedType=type; yesScale=1;
  document.getElementById("app").innerHTML=
    '<h1>Are you sure? üíï</h1>'+
    '<button id="yesBtn" class="yn-btn yes" onclick="openCard()">Yes üíó</button>'+
    '<button class="yn-btn no" onclick="growYes()">No üôà</button>';
}
function growYes(){
  yesScale += 0.3;
  document.getElementById("yesBtn").style.transform="scale("+yesScale+")";
}
function openCard(){
  if(selectedType==="birthday") birthdayCard();
  else valentineCard();
}

/* ===== HEART EFFECT ===== */
function createHearts(){
  for(let i=0;i<10;i++){
    let h=document.createElement("div");
    h.className="heart";
    h.innerHTML="üíó";
    h.style.left=Math.random()*100+"vw";
    h.style.fontSize=(20+Math.random()*20)+"px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),3000);
  }
}

/* ===== CARD ===== */
function createCard(title,img,message,nextText,nextFunc){
  document.getElementById("app").innerHTML=
    '<div class="scene"><div class="card" id="card">'+
    '<div class="card-face front">'+
    '<img src="'+img+'"><div class="overlay-text">Tap to flip üíï</div></div>'+
    '<div class="card-face back">'+
    '<h2>'+title+'</h2><div class="wish">'+message+'</div>'+
    '<button class="nav-btn" onclick="'+nextFunc+'()">Go to '+nextText+'</button>'+
    '</div></div></div>';

  const card=document.getElementById("card");
  card.addEventListener("click",function(e){
    if(e.target.tagName==="BUTTON") return;
    this.classList.toggle("flip");
    setTimeout(()=>createHearts(), 300);
  });
}

function birthdayCard(){
  createCard(
    "Happy Birth Day üéÇ",
    "https://scontent-bkk1-2.xx.fbcdn.net/v/t39.30808-6/497070501_9782568438489494_8441388958874456325_n.jpg",
    "‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏°‡∏≤‡∏Å‡πÜ‡∏ô‡∏∞‡∏Ñ‡∏∞ üíñ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á ‡πÜ ‡πÄ‡∏™‡∏°‡∏≠ ‚ú®",
    "Valentine Day üíò",
    "valentineCard"
  );
}

function valentineCard(){
  createCard(
    "Valentine Day üíò",
    "https://scontent-bkk1-1.xx.fbcdn.net/v/t39.30808-6/514412307_23902563776063390_341090073524059491_n.jpg",
    "‡∏ß‡∏≤‡πÄ‡∏•‡∏ô‡πÑ‡∏ó‡∏ô‡πå‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡∏™‡∏ô‡∏∏‡∏Å‡πÅ‡∏•‡∏∞‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏≤‡∏Å‡∏ô‡∏∞‡∏Ñ‡∏∞ üíï ‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏•‡∏¢ üíó",
    "Happy Birth Day üéÇ",
    "birthdayCard"
  );
}

</script>
</body>
</html>
